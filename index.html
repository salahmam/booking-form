<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>تحدي الألوان - يلا لودو</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #111, #222);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    h1 {
      margin: 15px 0;
      font-size: 24px;
    }

    #sudoku-board {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 2px;
      margin: 15px auto;
      width: 90%;
      max-width: 450px;
    }

    .cell {
      width: 100%;
      height: 45px;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      border: 1px solid #444;
      background: #111;
      color: #fff;
    }

    .cell:focus {
      outline: 2px solid #0f0;
    }

    .fixed {
      background: #333;
      color: #ff0;
    }

    .buttons {
      margin: 20px 0;
    }

    button {
      margin: 5px;
      padding: 10px 18px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s;
    }

    button:hover {
      transform: scale(1.05);
    }

    .check { background: linear-gradient(45deg, #00c853, #64dd17); color: #fff; }
    .next { background: linear-gradient(45deg, #2962ff, #448aff); color: #fff; }
    .reset { background: linear-gradient(45deg, #d50000, #ff1744); color: #fff; }
    .save  { background: linear-gradient(45deg, #ff9100, #ff6d00); color: #fff; }

    #ad-banner {
      margin: 20px auto;
      background: #fff3;
      color: #ff0;
      padding: 12px;
      border-radius: 8px;
      width: 90%;
      max-width: 400px;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <h1>🎲 تحدي الألوان — يلا لودو</h1>

  <div id="sudoku-board"></div>

  <div class="buttons">
    <button class="check" onclick="checkBoard()">تحقّق</button>
    <button class="next" onclick="nextLevel()">التالي ➡️</button>
    <button class="reset" onclick="resetBoard()">إعادة 🔄</button>
    <button class="save" onclick="saveProgress()">💾 حفظ التقدم</button>
  </div>

  <div id="ad-banner">
    🔶 هنا يظهر إعلان Google AdSense 🔶
  </div>

  <script>
    function generateBoard() {
      const board = document.getElementById("sudoku-board");
      board.innerHTML = "";

      for (let row = 0; row < 9; row++) {
        for (let col = 0; col < 9; col++) {
          const cell = document.createElement("input");
          cell.type = "text";
          cell.maxLength = 1;
          cell.classList.add("cell");

          // 30% خلية ثابتة (قيمة مبدئية)
          if (Math.random() > 0.7) {
            cell.value = Math.floor(Math.random() * 9) + 1;
            cell.disabled = true;
            cell.classList.add("fixed");
          }

          // سماح فقط بأرقام من 1 إلى 9
          cell.addEventListener("input", (e) => {
            const val = e.target.value;
            if (!/^[1-9]$/.test(val)) {
              e.target.value = "";
            }
          });

          board.appendChild(cell);
        }
      }
    }

    function checkBoard() {
      alert("✅ التحقق من الحل ليس مفعّل بعد (ممكن أضيفه لك لاحقاً).");
    }

    function nextLevel() {
      generateBoard();
    }

    function resetBoard() {
      generateBoard();
    }

    function saveProgress() {
      const cells = document.querySelectorAll(".cell");
      let values = [];
      cells.forEach(cell => values.push(cell.value));
      localStorage.setItem("sudokuProgress", JSON.stringify(values));
      alert("💾 تم حفظ التقدّم بنجاح!");
    }

    function loadProgress() {
      const saved = localStorage.getItem("sudokuProgress");
      if (saved) {
        const values = JSON.parse(saved);
        const cells = document.querySelectorAll(".cell");
        values.forEach((val, i) => cells[i].value = val);
      }
    }

    // تشغيل عند فتح الصفحة
    generateBoard();
    setTimeout(loadProgress, 300);
  </script>
</body>
</html>