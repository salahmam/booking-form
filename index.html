<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù† â€” ÙŠÙ„Ø§ Ù„ÙˆØ¯Ùˆ</title>
  <style>
    body {
      font-family: "Cairo", sans-serif;
      background: linear-gradient(135deg, #0f0f0f, #1a1a1a);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin: 10px 0;
      font-size: 26px;
      font-weight: bold;
    }
    #board {
      display: grid;
      grid-template-columns: repeat(9, 40px);
      grid-template-rows: repeat(9, 40px);
      gap: 2px;
      margin: 20px auto;
      width: max-content;
      background: #222;
      padding: 10px;
      border-radius: 8px;
    }
    .cell {
      width: 40px;
      height: 40px;
      text-align: center;
      font-size: 18px;
      border: 1px solid #444;
      background: #111;
      color: white;
      outline: none;
    }
    .cell:focus {
      border: 2px solid #00f;
    }
    .fixed {
      background: #f1c40f;
      font-weight: bold;
    }
    #controls {
      margin: 15px 0;
    }
    button {
      padding: 10px 15px;
      margin: 5px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }
    .check { background: linear-gradient(45deg,#27ae60,#2ecc71); color: #fff; }
    .next { background: linear-gradient(45deg,#2980b9,#3498db); color: #fff; }
    .reset { background: linear-gradient(45deg,#e74c3c,#c0392b); color: #fff; }
    .new   { background: linear-gradient(45deg,#8e44ad,#9b59b6); color: #fff; }
    #timer {
      margin: 10px 0;
      font-size: 18px;
    }
    #ads {
      margin: 20px auto;
      background: #fff3;
      padding: 10px;
      width: 80%;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <h1>ğŸ² ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù† â€” ÙŠÙ„Ø§ Ù„ÙˆØ¯Ùˆ</h1>
  <div id="timer">â±ï¸ 00:00</div>
  <div id="stage">Ø§Ù„Ù…Ø±Ø­Ù„Ø©: 1 / 15</div>
  
  <div id="board"></div>

  <div id="controls">
    <button class="check" onclick="checkBoard()">ØªØ­Ù‚Ù‚</button>
    <button class="next" onclick="nextLevel()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    <button class="reset" onclick="resetBoard()">Ø¥Ø¹Ø§Ø¯Ø©</button>
    <button class="new" onclick="resetProgress()">Ø¨Ø¯Ø¡ Ø¬Ø¯ÙŠØ¯</button>
  </div>

  <div id="ads">ğŸ”¶ Ù‡Ù†Ø§ ÙŠØ¸Ù‡Ø± Ø¥Ø¹Ù„Ø§Ù† Google AdSense ğŸ”¶</div>

  <script>
    let board = document.getElementById("board");
    let timerElement = document.getElementById("timer");
    let stageElement = document.getElementById("stage");
    let timer;
    let seconds = 0;
    let currentStage = 1;
    const totalStages = 15;

    function startTimer() {
      clearInterval(timer);
      timer = setInterval(() => {
        seconds++;
        let min = String(Math.floor(seconds / 60)).padStart(2, '0');
        let sec = String(seconds % 60).padStart(2, '0');
        timerElement.textContent = `â±ï¸ ${min}:${sec}`;
        saveProgress();
      }, 1000);
    }

    function generateBoard() {
      board.innerHTML = "";
      for (let i = 0; i < 81; i++) {
        let input = document.createElement("input");
        input.type = "text";
        input.maxLength = 1;
        input.classList.add("cell");
        input.oninput = () => {
          input.value = input.value.replace(/[^1-9]/g, "");
          saveProgress();
        };
        board.appendChild(input);
      }
      stageElement.textContent = `Ø§Ù„Ù…Ø±Ø­Ù„Ø©: ${currentStage} / ${totalStages}`;
      startTimer();
      loadProgress();
    }

    function checkBoard() {
      alert("âœ”ï¸ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù„ Ù„ÙŠØ³ Ù…ÙØ¹Ù„Ø§Ù‹ Ø¨Ø¹Ø¯ (ÙŠÙ…ÙƒÙ† ØªØ·ÙˆÙŠØ±Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹).");
    }

    function nextLevel() {
      if (currentStage < totalStages) {
        currentStage++;
        seconds = 0;
        generateBoard();
        saveProgress();
      } else {
        alert("ğŸ‰ Ø£Ù†Ù‡ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„!");
      }
    }

    function resetBoard() {
      generateBoard();
    }

    function resetProgress() {
      localStorage.removeItem("sudoku-progress");
      currentStage = 1;
      seconds = 0;
      generateBoard();
      alert("ğŸ”„ ØªÙ… Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯!");
    }

    function saveProgress() {
      let cells = [...document.querySelectorAll(".cell")].map(c => c.value);
      let progress = { stage: currentStage, time: seconds, cells: cells };
      localStorage.setItem("sudoku-progress", JSON.stringify(progress));
    }

    function loadProgress() {
      let data = localStorage.getItem("sudoku-progress");
      if (data) {
        let progress = JSON.parse(data);
        currentStage = progress.stage;
        seconds = progress.time;
        stageElement.textContent = `Ø§Ù„Ù…Ø±Ø­Ù„Ø©: ${currentStage} / ${totalStages}`;
        let cells = document.querySelectorAll(".cell");
        progress.cells.forEach((val, i) => { cells[i].value = val; });
      }
    }

    generateBoard();
  </script>
</body>
</html>